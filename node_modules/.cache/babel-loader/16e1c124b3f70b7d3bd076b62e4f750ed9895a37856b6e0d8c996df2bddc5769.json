{"ast":null,"code":"var _jsxFileName = \"/Users/shuga/hs_2405/src/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { db } from './firebase';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditProfile({\n  userId\n}) {\n  _s();\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [bio, setBio] = useState('');\n\n  // プロフィールデータを取得\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const profileDoc = await getDoc(doc(db, 'users', userId));\n        if (profileDoc.exists()) {\n          const profileData = profileDoc.data();\n          setName(profileData.name || '');\n          setAge(profileData.age || '');\n          setBio(profileData.bio || '');\n        }\n      } catch (error) {\n        console.error(\"プロフィールの取得エラー:\", error);\n      }\n    };\n    fetchProfile();\n  }, [userId]);\n  const handleSaveProfile = async () => {\n    try {\n      // userIdもデータに含めて保存\n      await setDoc(doc(db, 'users', userId), {\n        userId,\n        name,\n        age,\n        bio\n      });\n      alert(\"プロフィールが保存されました\");\n    } catch (error) {\n      console.error(\"プロフィールの保存エラー:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u30D7\\u30ED\\u30D5\\u30A3\\u30FC\\u30EB\\u3092\\u7DE8\\u96C6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u540D\\u524D\",\n      value: name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"\\u5E74\\u9F62\",\n      value: age,\n      onChange: e => setAge(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"\\u81EA\\u5DF1\\u7D39\\u4ECB\",\n      value: bio,\n      onChange: e => setBio(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSaveProfile,\n      children: \"\\u4FDD\\u5B58\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(EditProfile, \"8U6i7hOMmsa0E7hufoAaUHpEmjk=\");\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","db","doc","getDoc","setDoc","jsxDEV","_jsxDEV","EditProfile","userId","_s","name","setName","age","setAge","bio","setBio","fetchProfile","profileDoc","exists","profileData","data","error","console","handleSaveProfile","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/shuga/hs_2405/src/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { db } from './firebase';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\n\nfunction EditProfile({ userId }) {\n  const [name, setName] = useState('');\n  const [age, setAge] = useState('');\n  const [bio, setBio] = useState('');\n\n  // プロフィールデータを取得\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const profileDoc = await getDoc(doc(db, 'users', userId));\n        if (profileDoc.exists()) {\n          const profileData = profileDoc.data();\n          setName(profileData.name || '');\n          setAge(profileData.age || '');\n          setBio(profileData.bio || '');\n        }\n      } catch (error) {\n        console.error(\"プロフィールの取得エラー:\", error);\n      }\n    };\n\n    fetchProfile();\n  }, [userId]);\n\n  const handleSaveProfile = async () => {\n    try {\n      // userIdもデータに含めて保存\n      await setDoc(doc(db, 'users', userId), { userId, name, age, bio });\n      alert(\"プロフィールが保存されました\");\n    } catch (error) {\n      console.error(\"プロフィールの保存エラー:\", error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>プロフィールを編集</h2>\n      <input type=\"text\" placeholder=\"名前\" value={name} onChange={(e) => setName(e.target.value)} />\n      <input type=\"number\" placeholder=\"年齢\" value={age} onChange={(e) => setAge(e.target.value)} />\n      <textarea placeholder=\"自己紹介\" value={bio} onChange={(e) => setBio(e.target.value)} />\n      <button onClick={handleSaveProfile}>保存</button>\n    </div>\n  );\n}\n\nexport default EditProfile;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,YAAY;AAC/B,SAASC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,SAASC,WAAWA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACa,GAAG,EAAEC,MAAM,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACe,GAAG,EAAEC,MAAM,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;;EAElC;EACAC,SAAS,CAAC,MAAM;IACd,MAAMgB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,UAAU,GAAG,MAAMd,MAAM,CAACD,GAAG,CAACD,EAAE,EAAE,OAAO,EAAEO,MAAM,CAAC,CAAC;QACzD,IAAIS,UAAU,CAACC,MAAM,CAAC,CAAC,EAAE;UACvB,MAAMC,WAAW,GAAGF,UAAU,CAACG,IAAI,CAAC,CAAC;UACrCT,OAAO,CAACQ,WAAW,CAACT,IAAI,IAAI,EAAE,CAAC;UAC/BG,MAAM,CAACM,WAAW,CAACP,GAAG,IAAI,EAAE,CAAC;UAC7BG,MAAM,CAACI,WAAW,CAACL,GAAG,IAAI,EAAE,CAAC;QAC/B;MACF,CAAC,CAAC,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC;IACF,CAAC;IAEDL,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACR,MAAM,CAAC,CAAC;EAEZ,MAAMe,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF;MACA,MAAMnB,MAAM,CAACF,GAAG,CAACD,EAAE,EAAE,OAAO,EAAEO,MAAM,CAAC,EAAE;QAAEA,MAAM;QAAEE,IAAI;QAAEE,GAAG;QAAEE;MAAI,CAAC,CAAC;MAClEU,KAAK,CAAC,gBAAgB,CAAC;IACzB,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;EACF,CAAC;EAED,oBACEf,OAAA;IAAAmB,QAAA,gBACEnB,OAAA;MAAAmB,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBvB,OAAA;MAAOwB,IAAI,EAAC,MAAM;MAACC,WAAW,EAAC,cAAI;MAACC,KAAK,EAAEtB,IAAK;MAACuB,QAAQ,EAAGC,CAAC,IAAKvB,OAAO,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7FvB,OAAA;MAAOwB,IAAI,EAAC,QAAQ;MAACC,WAAW,EAAC,cAAI;MAACC,KAAK,EAAEpB,GAAI;MAACqB,QAAQ,EAAGC,CAAC,IAAKrB,MAAM,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7FvB,OAAA;MAAUyB,WAAW,EAAC,0BAAM;MAACC,KAAK,EAAElB,GAAI;MAACmB,QAAQ,EAAGC,CAAC,IAAKnB,MAAM,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpFvB,OAAA;MAAQ8B,OAAO,EAAEb,iBAAkB;MAAAE,QAAA,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5C,CAAC;AAEV;AAACpB,EAAA,CA3CQF,WAAW;AAAA8B,EAAA,GAAX9B,WAAW;AA6CpB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}