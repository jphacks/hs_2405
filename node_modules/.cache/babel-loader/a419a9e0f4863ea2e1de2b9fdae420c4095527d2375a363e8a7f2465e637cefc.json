{"ast":null,"code":"import { collection, query, where, getDocs } from 'firebase/firestore';\nimport { db } from './firebase';\nexport async function checkMutualLike(fromUserId, toUserId) {\n  try {\n    // fromUserId から toUserId への「いいね」を確認\n    const likeFromToQuery = query(collection(db, 'Likes'), where('fromUserId', '==', fromUserId), where('toUserId', '==', toUserId));\n    const likeFromToSnapshot = await getDocs(likeFromToQuery);\n\n    // toUserId から fromUserId への「いいね」を確認\n    const likeToFromQuery = query(collection(db, 'Likes'), where('fromUserId', '==', toUserId), where('toUserId', '==', fromUserId));\n    const likeToFromSnapshot = await getDocs(likeToFromQuery);\n\n    // 双方からの「いいね」が存在するかどうかを確認\n    return !likeFromToSnapshot.empty && !likeToFromSnapshot.empty;\n  } catch (error) {\n    console.error('相互「いいね」の確認エラー:', error);\n    return false;\n  }\n}","map":{"version":3,"names":["collection","query","where","getDocs","db","checkMutualLike","fromUserId","toUserId","likeFromToQuery","likeFromToSnapshot","likeToFromQuery","likeToFromSnapshot","empty","error","console"],"sources":["/Users/shuga/euh/src/checkMutualLike.js"],"sourcesContent":["import { collection, query, where, getDocs } from 'firebase/firestore';\nimport { db } from './firebase';\n\nexport async function checkMutualLike(fromUserId, toUserId) {\n  try {\n    // fromUserId から toUserId への「いいね」を確認\n    const likeFromToQuery = query(\n      collection(db, 'Likes'),\n      where('fromUserId', '==', fromUserId),\n      where('toUserId', '==', toUserId)\n    );\n    const likeFromToSnapshot = await getDocs(likeFromToQuery);\n\n    // toUserId から fromUserId への「いいね」を確認\n    const likeToFromQuery = query(\n      collection(db, 'Likes'),\n      where('fromUserId', '==', toUserId),\n      where('toUserId', '==', fromUserId)\n    );\n    const likeToFromSnapshot = await getDocs(likeToFromQuery);\n\n    // 双方からの「いいね」が存在するかどうかを確認\n    return !likeFromToSnapshot.empty && !likeToFromSnapshot.empty;\n  } catch (error) {\n    console.error('相互「いいね」の確認エラー:', error);\n    return false;\n  }\n}"],"mappings":"AAAA,SAASA,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,QAAQ,oBAAoB;AACtE,SAASC,EAAE,QAAQ,YAAY;AAE/B,OAAO,eAAeC,eAAeA,CAACC,UAAU,EAAEC,QAAQ,EAAE;EAC1D,IAAI;IACF;IACA,MAAMC,eAAe,GAAGP,KAAK,CAC3BD,UAAU,CAACI,EAAE,EAAE,OAAO,CAAC,EACvBF,KAAK,CAAC,YAAY,EAAE,IAAI,EAAEI,UAAU,CAAC,EACrCJ,KAAK,CAAC,UAAU,EAAE,IAAI,EAAEK,QAAQ,CAClC,CAAC;IACD,MAAME,kBAAkB,GAAG,MAAMN,OAAO,CAACK,eAAe,CAAC;;IAEzD;IACA,MAAME,eAAe,GAAGT,KAAK,CAC3BD,UAAU,CAACI,EAAE,EAAE,OAAO,CAAC,EACvBF,KAAK,CAAC,YAAY,EAAE,IAAI,EAAEK,QAAQ,CAAC,EACnCL,KAAK,CAAC,UAAU,EAAE,IAAI,EAAEI,UAAU,CACpC,CAAC;IACD,MAAMK,kBAAkB,GAAG,MAAMR,OAAO,CAACO,eAAe,CAAC;;IAEzD;IACA,OAAO,CAACD,kBAAkB,CAACG,KAAK,IAAI,CAACD,kBAAkB,CAACC,KAAK;EAC/D,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACtC,OAAO,KAAK;EACd;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}