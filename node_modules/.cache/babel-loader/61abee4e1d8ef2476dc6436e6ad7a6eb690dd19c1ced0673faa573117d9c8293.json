{"ast":null,"code":"var _jsxFileName = \"/Users/shuga/euh/src/Allposts.js\",\n  _s = $RefreshSig$();\nimport { collection, onSnapshot } from 'firebase/firestore';\nimport { React, useEffect, useState } from 'react';\nimport { db } from \"./firebase\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getStrTime = time => {\n  let t = new Date(time);\n  return `${t.getFullYear()}/${t.getMonth() + 1}/${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`;\n};\nconst AllPosts = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    onSnapshot(collection(db, 'posts'), posts => {\n      setPosts(posts.docs.map(post => post.data()).sort((a, b) => b.created_at - a.created_at));\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u6295\\u7A3F\\u4E00\\u89A7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }, this), posts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [\"\\u30BF\\u30A4\\u30C8\\u30EB\\uFF1A\", post.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: [\"\\u5185\\u5BB9\\uFF1A\", post.content]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"created_at\",\n        children: [\"\\u6295\\u7A3F\\u65E5\\uFF1A\", getStrTime(post.created_at)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true);\n};\n_s(AllPosts, \"bG8V4duoIfO0BEPgauWMVT5Qvyw=\");\n_c = AllPosts;\nexport default AllPosts;\nvar _c;\n$RefreshReg$(_c, \"AllPosts\");","map":{"version":3,"names":["collection","onSnapshot","React","useEffect","useState","db","jsxDEV","_jsxDEV","Fragment","_Fragment","getStrTime","time","t","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","AllPosts","_s","posts","setPosts","docs","map","post","data","sort","a","b","created_at","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","content","_c","$RefreshReg$"],"sources":["/Users/shuga/euh/src/Allposts.js"],"sourcesContent":["import { collection, onSnapshot } from 'firebase/firestore'\nimport {React, useEffect, useState } from 'react'\nimport {db} from \"./firebase\";\n\nconst getStrTime = (time) => {\n    let t = new Date(time);\n    return (`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`);\n}\n\nconst AllPosts = () => {\n    const [posts, setPosts] = useState([]);\n\n    useEffect(() => {\n        onSnapshot(collection(db, 'posts'), (posts) => {\n            setPosts(\n                posts.docs.map((post) => post.data()).sort((a,b) => b.created_at - a.created_at)\n            )\n        })\n    }, []);\n\n    return (\n        <>\n            <p>投稿一覧</p>\n            {posts.map((post) => (\n                <div className='post'>\n                    <div className='title'>タイトル：{post.title}</div>\n                    <div className='content'>内容：{post.content}</div>\n                    <div className='created_at'>投稿日：{getStrTime(post.created_at)}</div>\n                </div>\n            ))}\n        </>\n    );\n}\n\nexport default AllPosts\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,UAAU,QAAQ,oBAAoB;AAC3D,SAAQC,KAAK,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACjD,SAAQC,EAAE,QAAO,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,MAAMC,UAAU,GAAIC,IAAI,IAAK;EACzB,IAAIC,CAAC,GAAG,IAAIC,IAAI,CAACF,IAAI,CAAC;EACtB,OAAQ,GAAGC,CAAC,CAACE,WAAW,CAAC,CAAC,IAAIF,CAAC,CAACG,QAAQ,CAAC,CAAC,GAAC,CAAC,IAAIH,CAAC,CAACI,OAAO,CAAC,CAAC,IAAIJ,CAAC,CAACK,QAAQ,CAAC,CAAC,IAAIL,CAAC,CAACM,UAAU,CAAC,CAAC,IAAIN,CAAC,CAACO,UAAU,CAAC,CAAC,EAAE;AACrH,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACZF,UAAU,CAACD,UAAU,CAACK,EAAE,EAAE,OAAO,CAAC,EAAGiB,KAAK,IAAK;MAC3CC,QAAQ,CACJD,KAAK,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAACC,CAAC,KAAKA,CAAC,CAACC,UAAU,GAAGF,CAAC,CAACE,UAAU,CACnF,CAAC;IACL,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIxB,OAAA,CAAAE,SAAA;IAAAuB,QAAA,gBACIzB,OAAA;MAAAyB,QAAA,EAAG;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EACVd,KAAK,CAACG,GAAG,CAAEC,IAAI,iBACZnB,OAAA;MAAK8B,SAAS,EAAC,MAAM;MAAAL,QAAA,gBACjBzB,OAAA;QAAK8B,SAAS,EAAC,OAAO;QAAAL,QAAA,GAAC,gCAAK,EAACN,IAAI,CAACY,KAAK;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9C7B,OAAA;QAAK8B,SAAS,EAAC,SAAS;QAAAL,QAAA,GAAC,oBAAG,EAACN,IAAI,CAACa,OAAO;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAChD7B,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAL,QAAA,GAAC,0BAAI,EAACtB,UAAU,CAACgB,IAAI,CAACK,UAAU,CAAC;MAAA;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CACR,CAAC;EAAA,eACJ,CAAC;AAEX,CAAC;AAAAf,EAAA,CAvBKD,QAAQ;AAAAoB,EAAA,GAARpB,QAAQ;AAyBd,eAAeA,QAAQ;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}