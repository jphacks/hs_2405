{"ast":null,"code":"var _jsxFileName = \"/Users/shuga/hs_2405/src/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { db } from './firebase';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard({\n  userId\n}) {\n  _s();\n  // userId を受け取る\n  const [matches, setMatches] = useState([]); // マッチしたユーザーを保持するステート\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchMatches = async () => {\n      try {\n        // 現在のユーザーにマッチしたユーザーを取得\n        const matchesQuery = query(collection(db, 'UserMatches'), where('userId', '==', userId) // 現在のユーザーがマッチしたユーザーを取得\n        );\n        const matchesSnapshot = await getDocs(matchesQuery);\n        const matchedUsersData = matchesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          matchedUserId: doc.data().matchedUserId\n        }));\n        setMatches(matchedUsersData);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"エラー：マッチデータの取得に失敗しました\", error);\n        setLoading(false);\n      }\n    };\n    fetchMatches();\n  }, [userId]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"dashboard-header\",\n      children: \"\\u30DE\\u30C3\\u30C1\\u3057\\u305F\\u30E6\\u30FC\\u30B6\\u30FC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: matches.length > 0 ? matches.map(match => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u30DE\\u30C3\\u30C1\\u30E6\\u30FC\\u30B6\\u30FCID: \", match.matchedUserId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)\n      }, match.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u30DE\\u30C3\\u30C1\\u3057\\u305F\\u30E6\\u30FC\\u30B6\\u30FC\\u306F\\u3044\\u307E\\u305B\\u3093\\u3002\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"o79dFCsnn+DOg+6kO09X1xc6308=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","where","getDocs","jsxDEV","_jsxDEV","Dashboard","userId","_s","matches","setMatches","loading","setLoading","fetchMatches","matchesQuery","matchesSnapshot","matchedUsersData","docs","map","doc","id","matchedUserId","data","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","match","_c","$RefreshReg$"],"sources":["/Users/shuga/hs_2405/src/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from './firebase';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\n\nfunction Dashboard({ userId }) { // userId を受け取る\n  const [matches, setMatches] = useState([]); // マッチしたユーザーを保持するステート\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      try {\n        // 現在のユーザーにマッチしたユーザーを取得\n        const matchesQuery = query(\n          collection(db, 'UserMatches'),\n          where('userId', '==', userId) // 現在のユーザーがマッチしたユーザーを取得\n        );\n        const matchesSnapshot = await getDocs(matchesQuery);\n\n        const matchedUsersData = matchesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          matchedUserId: doc.data().matchedUserId,\n        }));\n        setMatches(matchedUsersData);\n\n        setLoading(false);\n      } catch (error) {\n        console.error(\"エラー：マッチデータの取得に失敗しました\", error);\n        setLoading(false);\n      }\n    };\n\n    fetchMatches();\n  }, [userId]);\n\n  if (loading) return <p>Loading...</p>;\n\n  return (\n    <div className=\"dashboard\">\n      <h2 className=\"dashboard-header\">マッチしたユーザー</h2>\n      <ul>\n        {matches.length > 0 ? (\n          matches.map(match => (\n            <li key={match.id}>\n              <p>マッチユーザーID: {match.matchedUserId}</p>\n            </li>\n          ))\n        ) : (\n          <p>マッチしたユーザーはいません。</p>\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,YAAY;AAC/B,SAASC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAO,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvE,SAASC,SAASA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAAE;EAC/B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMgB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF;QACA,MAAMC,YAAY,GAAGb,KAAK,CACxBD,UAAU,CAACD,EAAE,EAAE,aAAa,CAAC,EAC7BG,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAEK,MAAM,CAAC,CAAC;QAChC,CAAC;QACD,MAAMQ,eAAe,GAAG,MAAMZ,OAAO,CAACW,YAAY,CAAC;QAEnD,MAAME,gBAAgB,GAAGD,eAAe,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;UACxDC,EAAE,EAAED,GAAG,CAACC,EAAE;UACVC,aAAa,EAAEF,GAAG,CAACG,IAAI,CAAC,CAAC,CAACD;QAC5B,CAAC,CAAC,CAAC;QACHX,UAAU,CAACM,gBAAgB,CAAC;QAE5BJ,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CX,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDC,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACN,MAAM,CAAC,CAAC;EAEZ,IAAII,OAAO,EAAE,oBAAON,OAAA;IAAAoB,QAAA,EAAG;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAErC,oBACExB,OAAA;IAAKyB,SAAS,EAAC,WAAW;IAAAL,QAAA,gBACxBpB,OAAA;MAAIyB,SAAS,EAAC,kBAAkB;MAAAL,QAAA,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/CxB,OAAA;MAAAoB,QAAA,EACGhB,OAAO,CAACsB,MAAM,GAAG,CAAC,GACjBtB,OAAO,CAACS,GAAG,CAACc,KAAK,iBACf3B,OAAA;QAAAoB,QAAA,eACEpB,OAAA;UAAAoB,QAAA,GAAG,gDAAW,EAACO,KAAK,CAACX,aAAa;QAAA;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC,GADhCG,KAAK,CAACZ,EAAE;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEb,CACL,CAAC,gBAEFxB,OAAA;QAAAoB,QAAA,EAAG;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IACtB;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV;AAACrB,EAAA,CAhDQF,SAAS;AAAA2B,EAAA,GAAT3B,SAAS;AAkDlB,eAAeA,SAAS;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}