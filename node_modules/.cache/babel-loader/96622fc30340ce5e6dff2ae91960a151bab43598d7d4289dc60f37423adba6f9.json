{"ast":null,"code":"// matchUsers.js\nimport { checkMutualLike } from './checkMutualLike';\nimport { checkValuesMatch } from './checkValuesMatch';\nimport { saveMatch } from './saveMatch';\nexport async function matchUsers(userAId, userBId) {\n  try {\n    console.log(`--- マッチング開始 ---`);\n    console.log(`マッチングをチェック中: ${userAId} と ${userBId}`);\n\n    // Step 1: 双方が「いいね」をしているか確認\n    const likesAtoB = await checkMutualLike(userAId, userBId);\n    const likesBtoA = await checkMutualLike(userBId, userAId);\n    console.log(`いいね確認結果: ${userAId} -> ${userBId}: ${likesAtoB}, ${userBId} -> ${userAId}: ${likesBtoA}`);\n    if (!likesAtoB || !likesBtoA) {\n      console.log(`マッチング不可: 双方のいいねが不足 (${userAId} -> ${userBId}: ${likesAtoB}, ${userBId} -> ${userAId}: ${likesBtoA})`);\n      return; // 双方が「いいね」をしていない場合、終了\n    }\n    console.log(`「いいね」一致確認済み: ${userAId} と ${userBId}`);\n\n    // Step 2: 価値観の一致を確認\n    const valuesMatch = await checkValuesMatch(userAId, userBId);\n    console.log(`価値観一致確認結果: ${valuesMatch}`);\n    if (!valuesMatch) {\n      console.log(`マッチング不可: 価値観が一致しない (${userAId} と ${userBId})`);\n      return; // 価値観が一致しない場合、終了\n    }\n    console.log(`価値観一致確認済み: ${userAId} と ${userBId}`);\n\n    // Step 3: マッチが成立した場合、マッチ情報を保存\n    await saveMatch(userAId, userBId);\n    console.log(`マッチが確定しました: ${userAId} と ${userBId}`);\n    console.log(`--- マッチング完了 ---`);\n  } catch (error) {\n    console.error(`マッチング処理エラー (${userAId} と ${userBId}):`, error);\n  }\n}","map":{"version":3,"names":["checkMutualLike","checkValuesMatch","saveMatch","matchUsers","userAId","userBId","console","log","likesAtoB","likesBtoA","valuesMatch","error"],"sources":["/Users/shuga/euh/src/matchUsers.js"],"sourcesContent":["// matchUsers.js\nimport { checkMutualLike } from './checkMutualLike';\nimport { checkValuesMatch } from './checkValuesMatch';\nimport { saveMatch } from './saveMatch';\n\nexport async function matchUsers(userAId, userBId) {\n  try {\n    console.log(`--- マッチング開始 ---`);\n    console.log(`マッチングをチェック中: ${userAId} と ${userBId}`);\n\n    // Step 1: 双方が「いいね」をしているか確認\n    const likesAtoB = await checkMutualLike(userAId, userBId);\n    const likesBtoA = await checkMutualLike(userBId, userAId);\n\n    console.log(`いいね確認結果: ${userAId} -> ${userBId}: ${likesAtoB}, ${userBId} -> ${userAId}: ${likesBtoA}`);\n    if (!likesAtoB || !likesBtoA) {\n      console.log(`マッチング不可: 双方のいいねが不足 (${userAId} -> ${userBId}: ${likesAtoB}, ${userBId} -> ${userAId}: ${likesBtoA})`);\n      return; // 双方が「いいね」をしていない場合、終了\n    }\n    console.log(`「いいね」一致確認済み: ${userAId} と ${userBId}`);\n\n    // Step 2: 価値観の一致を確認\n    const valuesMatch = await checkValuesMatch(userAId, userBId);\n    console.log(`価値観一致確認結果: ${valuesMatch}`);\n    if (!valuesMatch) {\n      console.log(`マッチング不可: 価値観が一致しない (${userAId} と ${userBId})`);\n      return; // 価値観が一致しない場合、終了\n    }\n    console.log(`価値観一致確認済み: ${userAId} と ${userBId}`);\n\n    // Step 3: マッチが成立した場合、マッチ情報を保存\n    await saveMatch(userAId, userBId);\n    console.log(`マッチが確定しました: ${userAId} と ${userBId}`);\n    console.log(`--- マッチング完了 ---`);\n  } catch (error) {\n    console.error(`マッチング処理エラー (${userAId} と ${userBId}):`, error);\n  }\n}"],"mappings":"AAAA;AACA,SAASA,eAAe,QAAQ,mBAAmB;AACnD,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,SAAS,QAAQ,aAAa;AAEvC,OAAO,eAAeC,UAAUA,CAACC,OAAO,EAAEC,OAAO,EAAE;EACjD,IAAI;IACFC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC9BD,OAAO,CAACC,GAAG,CAAC,gBAAgBH,OAAO,MAAMC,OAAO,EAAE,CAAC;;IAEnD;IACA,MAAMG,SAAS,GAAG,MAAMR,eAAe,CAACI,OAAO,EAAEC,OAAO,CAAC;IACzD,MAAMI,SAAS,GAAG,MAAMT,eAAe,CAACK,OAAO,EAAED,OAAO,CAAC;IAEzDE,OAAO,CAACC,GAAG,CAAC,YAAYH,OAAO,OAAOC,OAAO,KAAKG,SAAS,KAAKH,OAAO,OAAOD,OAAO,KAAKK,SAAS,EAAE,CAAC;IACtG,IAAI,CAACD,SAAS,IAAI,CAACC,SAAS,EAAE;MAC5BH,OAAO,CAACC,GAAG,CAAC,uBAAuBH,OAAO,OAAOC,OAAO,KAAKG,SAAS,KAAKH,OAAO,OAAOD,OAAO,KAAKK,SAAS,GAAG,CAAC;MAClH,OAAO,CAAC;IACV;IACAH,OAAO,CAACC,GAAG,CAAC,gBAAgBH,OAAO,MAAMC,OAAO,EAAE,CAAC;;IAEnD;IACA,MAAMK,WAAW,GAAG,MAAMT,gBAAgB,CAACG,OAAO,EAAEC,OAAO,CAAC;IAC5DC,OAAO,CAACC,GAAG,CAAC,cAAcG,WAAW,EAAE,CAAC;IACxC,IAAI,CAACA,WAAW,EAAE;MAChBJ,OAAO,CAACC,GAAG,CAAC,uBAAuBH,OAAO,MAAMC,OAAO,GAAG,CAAC;MAC3D,OAAO,CAAC;IACV;IACAC,OAAO,CAACC,GAAG,CAAC,cAAcH,OAAO,MAAMC,OAAO,EAAE,CAAC;;IAEjD;IACA,MAAMH,SAAS,CAACE,OAAO,EAAEC,OAAO,CAAC;IACjCC,OAAO,CAACC,GAAG,CAAC,eAAeH,OAAO,MAAMC,OAAO,EAAE,CAAC;IAClDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAChC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdL,OAAO,CAACK,KAAK,CAAC,eAAeP,OAAO,MAAMC,OAAO,IAAI,EAAEM,KAAK,CAAC;EAC/D;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}